import{e as C,m as T,s as b,r as a,f as E,n as M,p as N,v as R,c as l,o as u,a as n,b as p,B as f,h as o,T as $,w as q,A as I,z as w,_ as P,C as V}from"./D4ANIz5k.js";import{u as X}from"./Cz3nu93G.js";import Y from"./CzTaXQ6v.js";import"./Bu6pImYL.js";import"./DcElJHiN.js";import"./B5jBxww0.js";import"./BmluXSWN.js";import"./DuNEuN5J.js";import"./m1BBWj0j.js";import"./j4o_KGvX.js";const z=["aria-label"],G={viewBox:"0 0 350 450"},L={id:"distortionFilter"},O=["scale"],U={filter:"url(#distortionFilter)"},D=["xlink:href"],W=C({__name:"Cursor",setup(k){const d=T(),{isPageTransition:m}=b(d),c=a(!1),_=a({x:0,y:0}),r=a({x:0,y:0}),v=a(null),h=a(0),x=a(0),i=a(""),B=E(()=>X(`/images/experiments/thumbnail/${i.value}.png`)),g=(t,s,e)=>t*(1-e)+s*e,y=t=>{const{clientX:s,clientY:e}=t;_.value={x:s,y:e}};function F(t,s){w.set(v.value,{x:t,y:s,xPercent:-50,yPercent:-50});const e=document.elementFromPoint(t,s);e!=null&&e.dataset&&(c.value=e.dataset.detail,i.value=e.dataset.experimentsSrc??"")}function S(){const{x:t,y:s}=r.value,{x:e,y:A}=_.value;r.value={x:g(t,e,.2),y:g(s,A,.2)},F(r.value.x,r.value.y),h.value=requestAnimationFrame(S)}return M(i,t=>{t&&w.fromTo(x,{value:50},{value:0,duration:.8,ease:"power2.out"})}),N(()=>{window.addEventListener("mousemove",y),S()}),R(()=>{window.removeEventListener("mousemove",y),cancelAnimationFrame(h.value)}),(t,s)=>(u(),l("div",{ref_key:"cursorRef",ref:v,"aria-hidden":!0,class:"cursor"},[n("div",{class:f(["cursor-label",o(c)&&"active"])},[n("p",{class:f([o(i)&&"hidden"])},"Go into detail",2),p($,{name:"fade"},{default:q(()=>[o(i)&&!o(m)?(u(),l("div",{key:0,class:"distort","aria-label":`${o(i)}`},[(u(),l("svg",G,[n("filter",L,[s[0]||(s[0]=n("feTurbulence",{type:"fractalNoise",baseFrequency:"0.1",numOctaves:"5",seed:"2",stitchTiles:"noStitch",x:"0%",y:"0%",width:"100%",height:"100%",result:"noise"},null,-1)),n("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:o(x),xChannelSelector:"R",yChannelSelector:"B",x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"userSpaceOnUse"},null,8,O)]),n("g",U,[n("image",{class:"distort__img",x:"50",y:"50","xlink:href":o(B),height:"350",width:"250"},null,8,D)])]))],8,z)):I("",!0)]),_:1})],2)],512))}}),j=P(W,[["__scopeId","data-v-a934d102"]]),H=C({__name:"default",setup(k){const d=T(),{downloadPercent:m}=b(d);return(c,_)=>{const r=j;return u(),l("main",{class:f([o(m)>0&&"loading"])},[p(Y),p(r),V(c.$slots,"default",{},void 0,!0)],2)}}}),re=P(H,[["__scopeId","data-v-a2d22ba3"]]);export{re as default};
